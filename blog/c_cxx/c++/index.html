
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-8.2.11">
    
    
      
        <title>c++面向对象 - OnePunchMan</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8c5ef100.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#c" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="OnePunchMan" class="md-header__button md-logo" aria-label="OnePunchMan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OnePunchMan
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              c++面向对象
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OnePunchMan" class="md-nav__button md-logo" aria-label="OnePunchMan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OnePunchMan
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        主页
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          c_cxx
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="c_cxx" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          c_cxx
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          c++面向对象
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        c++面向对象
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#c_1" class="md-nav__link">
    C++类的定义
  </a>
  
    <nav class="md-nav" aria-label="C++类的定义">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    访问数据成员
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_2" class="md-nav__link">
    C++ 继承
  </a>
  
    <nav class="md-nav" aria-label="C++ 继承">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    访问控制和继承
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_3" class="md-nav__link">
    c++重载运算符和重载函数
  </a>
  
    <nav class="md-nav" aria-label="c++重载运算符和重载函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    函数重载
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    运算符重载
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_4" class="md-nav__link">
    c++多态
  </a>
  
    <nav class="md-nav" aria-label="c++多态">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    虚函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    纯虚函数
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_5" class="md-nav__link">
    C++ 接口（抽象类）
  </a>
  
    <nav class="md-nav" aria-label="C++ 接口（抽象类）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    抽象类的实例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    实例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    设计策略
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_6" class="md-nav__link">
    c++命名空间
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_7" class="md-nav__link">
    c++模板
  </a>
  
    <nav class="md-nav" aria-label="c++模板">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    函数模板
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    类模板
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    模板特化
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template" class="md-nav__link">
    template的其他用法
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    左值引用和右值引用
  </a>
  
    <nav class="md-nav" aria-label="左值引用和右值引用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    左值 [可以取地址的对象就是左值]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    右值[不可以取地址的对象就是右值]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    左值引用【避免对象拷贝】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    右值引用【延长对象生命周期】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    左值引用和指针的区别
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#const" class="md-nav__link">
    const &amp; （常引用）参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c_8" class="md-nav__link">
    C++ 把引用作为返回值
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    宏
  </a>
  
    <nav class="md-nav" aria-label="宏">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define" class="md-nav__link">
    #define的概念和分类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    宏替换发生的时机
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    命名空间
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    ：：作用域符号双冒号
  </a>
  
    <nav class="md-nav" aria-label="：：作用域符号双冒号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    访问命名空间内部的东西
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    全局作用域符号
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    双冒号也常常用于在类变量内部作为当前类实例的元素进行表示
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using" class="md-nav__link">
    using作用
  </a>
  
    <nav class="md-nav" aria-label="using作用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typedef" class="md-nav__link">
    类型重定义，取代 typedef
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          inferrence
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="inferrence" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          inferrence
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../inferrence/2024-2-28%E6%89%93%E5%8D%B0%E7%9F%A9%E9%98%B5%E4%B9%98%E7%9A%84%E4%B8%8B%E6%A0%87/" class="md-nav__link">
        打印矩阵乘的下标
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          llvm_mlir
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="llvm_mlir" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          llvm_mlir
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../llvm_mlir/2024-x-x-/" class="md-nav__link">
        xxxx
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/2024-2-2git%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/" class="md-nav__link">
        Git设置代理
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#c_1" class="md-nav__link">
    C++类的定义
  </a>
  
    <nav class="md-nav" aria-label="C++类的定义">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    访问数据成员
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_2" class="md-nav__link">
    C++ 继承
  </a>
  
    <nav class="md-nav" aria-label="C++ 继承">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    访问控制和继承
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_3" class="md-nav__link">
    c++重载运算符和重载函数
  </a>
  
    <nav class="md-nav" aria-label="c++重载运算符和重载函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    函数重载
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    运算符重载
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_4" class="md-nav__link">
    c++多态
  </a>
  
    <nav class="md-nav" aria-label="c++多态">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    虚函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    纯虚函数
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_5" class="md-nav__link">
    C++ 接口（抽象类）
  </a>
  
    <nav class="md-nav" aria-label="C++ 接口（抽象类）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    抽象类的实例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    实例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    设计策略
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_6" class="md-nav__link">
    c++命名空间
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c_7" class="md-nav__link">
    c++模板
  </a>
  
    <nav class="md-nav" aria-label="c++模板">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    函数模板
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    类模板
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    模板特化
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template" class="md-nav__link">
    template的其他用法
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    左值引用和右值引用
  </a>
  
    <nav class="md-nav" aria-label="左值引用和右值引用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    左值 [可以取地址的对象就是左值]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    右值[不可以取地址的对象就是右值]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    左值引用【避免对象拷贝】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    右值引用【延长对象生命周期】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    左值引用和指针的区别
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#const" class="md-nav__link">
    const &amp; （常引用）参数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c_8" class="md-nav__link">
    C++ 把引用作为返回值
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    宏
  </a>
  
    <nav class="md-nav" aria-label="宏">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define" class="md-nav__link">
    #define的概念和分类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    宏替换发生的时机
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    命名空间
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    ：：作用域符号双冒号
  </a>
  
    <nav class="md-nav" aria-label="：：作用域符号双冒号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    访问命名空间内部的东西
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    全局作用域符号
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    双冒号也常常用于在类变量内部作为当前类实例的元素进行表示
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using" class="md-nav__link">
    using作用
  </a>
  
    <nav class="md-nav" aria-label="using作用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typedef" class="md-nav__link">
    类型重定义，取代 typedef
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="c">c++面向对象<a class="headerlink" href="#c" title="Permanent link">&para;</a></h1>
<p>C++ 在 C 语言的基础上增加了面向对象编程，C++ 支持面向对象程序设计。类是 C++ 的核心特性，通常被称为用户定义的类型。</p>
<h2 id="c_1">C++类的定义<a class="headerlink" href="#c_1" title="Permanent link">&para;</a></h2>
<p>定义一个类需要使用关键字 <strong>class</strong>，然后指定类的名称，并类的主体是包含在一对花括号中，主体包含类的成员变量和成员函数。</p>
<p>定义一个类，本质上是定义一个数据类型的蓝图，它定义了类的对象包括了什么，以及可以在这个对象上执行哪些操作。</p>
<p><img alt="img" src="https://gitee.com/zhou-lu-wu-bei/picture-hub/raw/master/cpp-classes-objects-2020-12-10-11.png" /></p>
<h3 id="_1">访问数据成员<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>类的对象的公共数据成员可以使用直接成员访问运算符 <strong>.</strong> 来访问。</p>
<h2 id="c_2">C++ 继承<a class="headerlink" href="#c_2" title="Permanent link">&para;</a></h2>
<p>继承样例</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>class derived-class: access-specifier base-class
</code></pre></div>
</td></tr></table>
<p>其中，访问修饰符 access-specifier 是 <strong>public、protected</strong> 或 <strong>private</strong> 其中的一个，base-class 是之前定义过的某个类的名称。如果未使用访问修饰符 access-specifier，则默认为 private。通常不使用protected和private继承</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span>
<span class="normal"><a href="#__codelineno-1-30">30</a></span>
<span class="normal"><a href="#__codelineno-1-31">31</a></span>
<span class="normal"><a href="#__codelineno-1-32">32</a></span>
<span class="normal"><a href="#__codelineno-1-33">33</a></span>
<span class="normal"><a href="#__codelineno-1-34">34</a></span>
<span class="normal"><a href="#__codelineno-1-35">35</a></span>
<span class="normal"><a href="#__codelineno-1-36">36</a></span>
<span class="normal"><a href="#__codelineno-1-37">37</a></span>
<span class="normal"><a href="#__codelineno-1-38">38</a></span>
<span class="normal"><a href="#__codelineno-1-39">39</a></span>
<span class="normal"><a href="#__codelineno-1-40">40</a></span>
<span class="normal"><a href="#__codelineno-1-41">41</a></span>
<span class="normal"><a href="#__codelineno-1-42">42</a></span>
<span class="normal"><a href="#__codelineno-1-43">43</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="c1">// 基类</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">Shape</span><span class="w"> </span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">setWidth</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">         </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">setHeight</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">         </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="w">   </span><span class="k">protected</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="c1">// 派生类</span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Shape</span><span class="w"></span>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">getArea</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-1-27" name="__codelineno-1-27"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-1-28" name="__codelineno-1-28"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-1-29" name="__codelineno-1-29"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-30" name="__codelineno-1-30"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-1-31" name="__codelineno-1-31"></a>
<a id="__codelineno-1-32" name="__codelineno-1-32"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-33" name="__codelineno-1-33"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-34" name="__codelineno-1-34"></a><span class="w">   </span><span class="n">Rectangle</span><span class="w"> </span><span class="n">Rect</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-35" name="__codelineno-1-35"></a>
<a id="__codelineno-1-36" name="__codelineno-1-36"></a><span class="w">   </span><span class="n">Rect</span><span class="p">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-37" name="__codelineno-1-37"></a><span class="w">   </span><span class="n">Rect</span><span class="p">.</span><span class="n">setHeight</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-38" name="__codelineno-1-38"></a>
<a id="__codelineno-1-39" name="__codelineno-1-39"></a><span class="w">   </span><span class="c1">// 输出对象的面积</span>
<a id="__codelineno-1-40" name="__codelineno-1-40"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Total area: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Rect</span><span class="p">.</span><span class="n">getArea</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-41" name="__codelineno-1-41"></a>
<a id="__codelineno-1-42" name="__codelineno-1-42"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-43" name="__codelineno-1-43"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>多继承即一个子类可以有多个父类，它继承了多个父类的特性。</p>
<p>C++ 类可以从多个类继承成员，语法如下：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>class &lt;派生类名&gt;:&lt;继承方式1&gt;&lt;基类名1&gt;,&lt;继承方式2&gt;&lt;基类名2&gt;,…
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>{
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>&lt;派生类类体&gt;
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>};
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span>
<span class="normal"><a href="#__codelineno-3-19">19</a></span>
<span class="normal"><a href="#__codelineno-3-20">20</a></span>
<span class="normal"><a href="#__codelineno-3-21">21</a></span>
<span class="normal"><a href="#__codelineno-3-22">22</a></span>
<span class="normal"><a href="#__codelineno-3-23">23</a></span>
<span class="normal"><a href="#__codelineno-3-24">24</a></span>
<span class="normal"><a href="#__codelineno-3-25">25</a></span>
<span class="normal"><a href="#__codelineno-3-26">26</a></span>
<span class="normal"><a href="#__codelineno-3-27">27</a></span>
<span class="normal"><a href="#__codelineno-3-28">28</a></span>
<span class="normal"><a href="#__codelineno-3-29">29</a></span>
<span class="normal"><a href="#__codelineno-3-30">30</a></span>
<span class="normal"><a href="#__codelineno-3-31">31</a></span>
<span class="normal"><a href="#__codelineno-3-32">32</a></span>
<span class="normal"><a href="#__codelineno-3-33">33</a></span>
<span class="normal"><a href="#__codelineno-3-34">34</a></span>
<span class="normal"><a href="#__codelineno-3-35">35</a></span>
<span class="normal"><a href="#__codelineno-3-36">36</a></span>
<span class="normal"><a href="#__codelineno-3-37">37</a></span>
<span class="normal"><a href="#__codelineno-3-38">38</a></span>
<span class="normal"><a href="#__codelineno-3-39">39</a></span>
<span class="normal"><a href="#__codelineno-3-40">40</a></span>
<span class="normal"><a href="#__codelineno-3-41">41</a></span>
<span class="normal"><a href="#__codelineno-3-42">42</a></span>
<span class="normal"><a href="#__codelineno-3-43">43</a></span>
<span class="normal"><a href="#__codelineno-3-44">44</a></span>
<span class="normal"><a href="#__codelineno-3-45">45</a></span>
<span class="normal"><a href="#__codelineno-3-46">46</a></span>
<span class="normal"><a href="#__codelineno-3-47">47</a></span>
<span class="normal"><a href="#__codelineno-3-48">48</a></span>
<span class="normal"><a href="#__codelineno-3-49">49</a></span>
<span class="normal"><a href="#__codelineno-3-50">50</a></span>
<span class="normal"><a href="#__codelineno-3-51">51</a></span>
<span class="normal"><a href="#__codelineno-3-52">52</a></span>
<span class="normal"><a href="#__codelineno-3-53">53</a></span>
<span class="normal"><a href="#__codelineno-3-54">54</a></span>
<span class="normal"><a href="#__codelineno-3-55">55</a></span>
<span class="normal"><a href="#__codelineno-3-56">56</a></span>
<span class="normal"><a href="#__codelineno-3-57">57</a></span>
<span class="normal"><a href="#__codelineno-3-58">58</a></span>
<span class="normal"><a href="#__codelineno-3-59">59</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="c1">// 基类 Shape</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">Shape</span><span class="w"> </span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">setWidth</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">         </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">setHeight</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="w">         </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="w">   </span><span class="k">protected</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-3-21" name="__codelineno-3-21"></a>
<a id="__codelineno-3-22" name="__codelineno-3-22"></a><span class="c1">// 基类 PaintCost</span>
<a id="__codelineno-3-23" name="__codelineno-3-23"></a><span class="k">class</span><span class="w"> </span><span class="nc">PaintCost</span><span class="w"> </span>
<a id="__codelineno-3-24" name="__codelineno-3-24"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-25" name="__codelineno-3-25"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-3-26" name="__codelineno-3-26"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">getCost</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">area</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-3-27" name="__codelineno-3-27"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-28" name="__codelineno-3-28"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">70</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-29" name="__codelineno-3-29"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-3-30" name="__codelineno-3-30"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-3-31" name="__codelineno-3-31"></a>
<a id="__codelineno-3-32" name="__codelineno-3-32"></a><span class="c1">// 派生类</span>
<a id="__codelineno-3-33" name="__codelineno-3-33"></a><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Shape</span><span class="p">,</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">PaintCost</span><span class="w"></span>
<a id="__codelineno-3-34" name="__codelineno-3-34"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-35" name="__codelineno-3-35"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-3-36" name="__codelineno-3-36"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">getArea</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-3-37" name="__codelineno-3-37"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-3-38" name="__codelineno-3-38"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-3-39" name="__codelineno-3-39"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-3-40" name="__codelineno-3-40"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-3-41" name="__codelineno-3-41"></a>
<a id="__codelineno-3-42" name="__codelineno-3-42"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-3-43" name="__codelineno-3-43"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-44" name="__codelineno-3-44"></a><span class="w">   </span><span class="n">Rectangle</span><span class="w"> </span><span class="n">Rect</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-45" name="__codelineno-3-45"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">area</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-46" name="__codelineno-3-46"></a>
<a id="__codelineno-3-47" name="__codelineno-3-47"></a><span class="w">   </span><span class="n">Rect</span><span class="p">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-48" name="__codelineno-3-48"></a><span class="w">   </span><span class="n">Rect</span><span class="p">.</span><span class="n">setHeight</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-49" name="__codelineno-3-49"></a>
<a id="__codelineno-3-50" name="__codelineno-3-50"></a><span class="w">   </span><span class="n">area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rect</span><span class="p">.</span><span class="n">getArea</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-3-51" name="__codelineno-3-51"></a>
<a id="__codelineno-3-52" name="__codelineno-3-52"></a><span class="w">   </span><span class="c1">// 输出对象的面积</span>
<a id="__codelineno-3-53" name="__codelineno-3-53"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Total area: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Rect</span><span class="p">.</span><span class="n">getArea</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-54" name="__codelineno-3-54"></a>
<a id="__codelineno-3-55" name="__codelineno-3-55"></a><span class="w">   </span><span class="c1">// 输出总花费</span>
<a id="__codelineno-3-56" name="__codelineno-3-56"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Total paint cost: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Rect</span><span class="p">.</span><span class="n">getCost</span><span class="p">(</span><span class="n">area</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-57" name="__codelineno-3-57"></a>
<a id="__codelineno-3-58" name="__codelineno-3-58"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-59" name="__codelineno-3-59"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<h3 id="_2">访问控制和继承<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>派生类可以访问基类中所有的非私有成员。因此基类成员如果不想被派生类的成员函数访问，则应在基类中声明为 private。</p>
<p>我们可以根据访问权限总结出不同的访问类型，如下所示：</p>
<table>
<thead>
<tr>
<th align="left">访问</th>
<th align="left">public</th>
<th align="left">protected</th>
<th align="left">private</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">同一个类</td>
<td align="left">yes</td>
<td align="left">yes</td>
<td align="left">yes</td>
</tr>
<tr>
<td align="left">派生类</td>
<td align="left">yes</td>
<td align="left">yes</td>
<td align="left">no</td>
</tr>
<tr>
<td align="left">外部的类</td>
<td align="left">yes</td>
<td align="left">no</td>
<td align="left">no</td>
</tr>
</tbody>
</table>
<p>一个派生类继承了所有的基类方法，但下列情况除外：</p>
<ul>
<li><strong>基类的构造函数、析构函数和拷贝构造函数。</strong></li>
<li><strong>基类的重载运算符。</strong></li>
<li><strong>基类的友元函数。</strong></li>
</ul>
<h2 id="c_3">c++重载运算符和重载函数<a class="headerlink" href="#c_3" title="Permanent link">&para;</a></h2>
<p>C++ 允许在同一作用域中的某个<strong>函数</strong>和<strong>运算符</strong>指定多个定义，分别称为<strong>函数重载</strong>和<strong>运算符重载</strong>。</p>
<p>重载声明是指一个与之前已经在该作用域内声明过的函数或方法具有相同名称的声明，但是它们的参数列表和定义（实现）不相同。</p>
<p>当您调用一个<strong>重载函数</strong>或<strong>重载运算符</strong>时，编译器通过把您所使用的参数类型与定义中的参数类型进行比较，决定选用最合适的定义。选择最合适的重载函数或重载运算符的过程，称为<strong>重载决策</strong>。</p>
<h3 id="_3">函数重载<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>在同一个作用域内，可以声明几个功能类似的同名函数，但是这些同名函数的形式参数（指参数的个数、类型或者顺序）必须不同。您不能仅通过返回类型的不同来重载函数。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span>
<span class="normal"><a href="#__codelineno-4-23">23</a></span>
<span class="normal"><a href="#__codelineno-4-24">24</a></span>
<span class="normal"><a href="#__codelineno-4-25">25</a></span>
<span class="normal"><a href="#__codelineno-4-26">26</a></span>
<span class="normal"><a href="#__codelineno-4-27">27</a></span>
<span class="normal"><a href="#__codelineno-4-28">28</a></span>
<span class="normal"><a href="#__codelineno-4-29">29</a></span>
<span class="normal"><a href="#__codelineno-4-30">30</a></span>
<span class="normal"><a href="#__codelineno-4-31">31</a></span>
<span class="normal"><a href="#__codelineno-4-32">32</a></span>
<span class="normal"><a href="#__codelineno-4-33">33</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="k">class</span><span class="w"> </span><span class="nc">printData</span><span class="w"></span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;整数为: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="kt">double</span><span class="w">  </span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;浮点数为: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;字符串为: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="w">   </span><span class="n">printData</span><span class="w"> </span><span class="n">pd</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-4-23" name="__codelineno-4-23"></a>
<a id="__codelineno-4-24" name="__codelineno-4-24"></a><span class="w">   </span><span class="c1">// 输出整数</span>
<a id="__codelineno-4-25" name="__codelineno-4-25"></a><span class="w">   </span><span class="n">pd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="w">   </span><span class="c1">// 输出浮点数</span>
<a id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="w">   </span><span class="n">pd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="mf">500.263</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-28" name="__codelineno-4-28"></a><span class="w">   </span><span class="c1">// 输出字符串</span>
<a id="__codelineno-4-29" name="__codelineno-4-29"></a><span class="w">   </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello C++&quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-4-30" name="__codelineno-4-30"></a><span class="w">   </span><span class="n">pd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">c</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-4-31" name="__codelineno-4-31"></a>
<a id="__codelineno-4-32" name="__codelineno-4-32"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-4-33" name="__codelineno-4-33"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<h3 id="_4">运算符重载<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>您可以重定义或重载大部分 C++ 内置的运算符。这样，您就能使用自定义类型的运算符。</p>
<p>重载的运算符是带有特殊名称的函数，函数名是由关键字 operator 和其后要重载的运算符符号构成的。与其他函数一样，重载运算符有一个返回类型和一个参数列表。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>Box operator+(const Box&amp;);
</code></pre></div>
</td></tr></table>
<p>声明加法运算符用于把两个 Box 对象相加，返回最终的 Box 对象。大多数的重载运算符可被定义为普通的非成员函数或者被定义为类成员函数。如果我们定义上面的函数为类的非成员函数，那么我们需要为每次操作传递两个参数，如下所示</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span>
<span class="normal"><a href="#__codelineno-6-17">17</a></span>
<span class="normal"><a href="#__codelineno-6-18">18</a></span>
<span class="normal"><a href="#__codelineno-6-19">19</a></span>
<span class="normal"><a href="#__codelineno-6-20">20</a></span>
<span class="normal"><a href="#__codelineno-6-21">21</a></span>
<span class="normal"><a href="#__codelineno-6-22">22</a></span>
<span class="normal"><a href="#__codelineno-6-23">23</a></span>
<span class="normal"><a href="#__codelineno-6-24">24</a></span>
<span class="normal"><a href="#__codelineno-6-25">25</a></span>
<span class="normal"><a href="#__codelineno-6-26">26</a></span>
<span class="normal"><a href="#__codelineno-6-27">27</a></span>
<span class="normal"><a href="#__codelineno-6-28">28</a></span>
<span class="normal"><a href="#__codelineno-6-29">29</a></span>
<span class="normal"><a href="#__codelineno-6-30">30</a></span>
<span class="normal"><a href="#__codelineno-6-31">31</a></span>
<span class="normal"><a href="#__codelineno-6-32">32</a></span>
<span class="normal"><a href="#__codelineno-6-33">33</a></span>
<span class="normal"><a href="#__codelineno-6-34">34</a></span>
<span class="normal"><a href="#__codelineno-6-35">35</a></span>
<span class="normal"><a href="#__codelineno-6-36">36</a></span>
<span class="normal"><a href="#__codelineno-6-37">37</a></span>
<span class="normal"><a href="#__codelineno-6-38">38</a></span>
<span class="normal"><a href="#__codelineno-6-39">39</a></span>
<span class="normal"><a href="#__codelineno-6-40">40</a></span>
<span class="normal"><a href="#__codelineno-6-41">41</a></span>
<span class="normal"><a href="#__codelineno-6-42">42</a></span>
<span class="normal"><a href="#__codelineno-6-43">43</a></span>
<span class="normal"><a href="#__codelineno-6-44">44</a></span>
<span class="normal"><a href="#__codelineno-6-45">45</a></span>
<span class="normal"><a href="#__codelineno-6-46">46</a></span>
<span class="normal"><a href="#__codelineno-6-47">47</a></span>
<span class="normal"><a href="#__codelineno-6-48">48</a></span>
<span class="normal"><a href="#__codelineno-6-49">49</a></span>
<span class="normal"><a href="#__codelineno-6-50">50</a></span>
<span class="normal"><a href="#__codelineno-6-51">51</a></span>
<span class="normal"><a href="#__codelineno-6-52">52</a></span>
<span class="normal"><a href="#__codelineno-6-53">53</a></span>
<span class="normal"><a href="#__codelineno-6-54">54</a></span>
<span class="normal"><a href="#__codelineno-6-55">55</a></span>
<span class="normal"><a href="#__codelineno-6-56">56</a></span>
<span class="normal"><a href="#__codelineno-6-57">57</a></span>
<span class="normal"><a href="#__codelineno-6-58">58</a></span>
<span class="normal"><a href="#__codelineno-6-59">59</a></span>
<span class="normal"><a href="#__codelineno-6-60">60</a></span>
<span class="normal"><a href="#__codelineno-6-61">61</a></span>
<span class="normal"><a href="#__codelineno-6-62">62</a></span>
<span class="normal"><a href="#__codelineno-6-63">63</a></span>
<span class="normal"><a href="#__codelineno-6-64">64</a></span>
<span class="normal"><a href="#__codelineno-6-65">65</a></span>
<span class="normal"><a href="#__codelineno-6-66">66</a></span>
<span class="normal"><a href="#__codelineno-6-67">67</a></span>
<span class="normal"><a href="#__codelineno-6-68">68</a></span>
<span class="normal"><a href="#__codelineno-6-69">69</a></span>
<span class="normal"><a href="#__codelineno-6-70">70</a></span>
<span class="normal"><a href="#__codelineno-6-71">71</a></span>
<span class="normal"><a href="#__codelineno-6-72">72</a></span>
<span class="normal"><a href="#__codelineno-6-73">73</a></span>
<span class="normal"><a href="#__codelineno-6-74">74</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="k">class</span><span class="w"> </span><span class="nc">Box</span><span class="w"></span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">getVolume</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">breadth</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">setLength</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">          </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">setBreadth</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bre</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="w">          </span><span class="n">breadth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bre</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">      </span><span class="kt">void</span><span class="w"> </span><span class="n">setHeight</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">hei</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">          </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hei</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">      </span><span class="c1">// 重载 + 运算符，用于把两个 Box 对象相加</span>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="w">      </span><span class="n">Box</span><span class="w"> </span><span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Box</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-29" name="__codelineno-6-29"></a><span class="w">         </span><span class="n">Box</span><span class="w"> </span><span class="n">box</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="w">         </span><span class="n">box</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-31" name="__codelineno-6-31"></a><span class="w">         </span><span class="n">box</span><span class="p">.</span><span class="n">breadth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">breadth</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">breadth</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-32" name="__codelineno-6-32"></a><span class="w">         </span><span class="n">box</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">height</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-33" name="__codelineno-6-33"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">box</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-34" name="__codelineno-6-34"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-35" name="__codelineno-6-35"></a><span class="w">   </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-6-36" name="__codelineno-6-36"></a><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w">      </span><span class="c1">// 长度</span>
<a id="__codelineno-6-37" name="__codelineno-6-37"></a><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">breadth</span><span class="p">;</span><span class="w">     </span><span class="c1">// 宽度</span>
<a id="__codelineno-6-38" name="__codelineno-6-38"></a><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w">      </span><span class="c1">// 高度</span>
<a id="__codelineno-6-39" name="__codelineno-6-39"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-6-40" name="__codelineno-6-40"></a><span class="c1">// 程序的主函数</span>
<a id="__codelineno-6-41" name="__codelineno-6-41"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-42" name="__codelineno-6-42"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-43" name="__codelineno-6-43"></a><span class="w">   </span><span class="n">Box</span><span class="w"> </span><span class="n">Box1</span><span class="p">;</span><span class="w">                </span><span class="c1">// 声明 Box1，类型为 Box</span>
<a id="__codelineno-6-44" name="__codelineno-6-44"></a><span class="w">   </span><span class="n">Box</span><span class="w"> </span><span class="n">Box2</span><span class="p">;</span><span class="w">                </span><span class="c1">// 声明 Box2，类型为 Box</span>
<a id="__codelineno-6-45" name="__codelineno-6-45"></a><span class="w">   </span><span class="n">Box</span><span class="w"> </span><span class="n">Box3</span><span class="p">;</span><span class="w">                </span><span class="c1">// 声明 Box3，类型为 Box</span>
<a id="__codelineno-6-46" name="__codelineno-6-46"></a><span class="w">   </span><span class="kt">double</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w">     </span><span class="c1">// 把体积存储在该变量中</span>
<a id="__codelineno-6-47" name="__codelineno-6-47"></a>
<a id="__codelineno-6-48" name="__codelineno-6-48"></a><span class="w">   </span><span class="c1">// Box1 详述</span>
<a id="__codelineno-6-49" name="__codelineno-6-49"></a><span class="w">   </span><span class="n">Box1</span><span class="p">.</span><span class="n">setLength</span><span class="p">(</span><span class="mf">6.0</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-6-50" name="__codelineno-6-50"></a><span class="w">   </span><span class="n">Box1</span><span class="p">.</span><span class="n">setBreadth</span><span class="p">(</span><span class="mf">7.0</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-6-51" name="__codelineno-6-51"></a><span class="w">   </span><span class="n">Box1</span><span class="p">.</span><span class="n">setHeight</span><span class="p">(</span><span class="mf">5.0</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-52" name="__codelineno-6-52"></a>
<a id="__codelineno-6-53" name="__codelineno-6-53"></a><span class="w">   </span><span class="c1">// Box2 详述</span>
<a id="__codelineno-6-54" name="__codelineno-6-54"></a><span class="w">   </span><span class="n">Box2</span><span class="p">.</span><span class="n">setLength</span><span class="p">(</span><span class="mf">12.0</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-6-55" name="__codelineno-6-55"></a><span class="w">   </span><span class="n">Box2</span><span class="p">.</span><span class="n">setBreadth</span><span class="p">(</span><span class="mf">13.0</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-6-56" name="__codelineno-6-56"></a><span class="w">   </span><span class="n">Box2</span><span class="p">.</span><span class="n">setHeight</span><span class="p">(</span><span class="mf">10.0</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-57" name="__codelineno-6-57"></a>
<a id="__codelineno-6-58" name="__codelineno-6-58"></a><span class="w">   </span><span class="c1">// Box1 的体积</span>
<a id="__codelineno-6-59" name="__codelineno-6-59"></a><span class="w">   </span><span class="n">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box1</span><span class="p">.</span><span class="n">getVolume</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-6-60" name="__codelineno-6-60"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Volume of Box1 : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-61" name="__codelineno-6-61"></a>
<a id="__codelineno-6-62" name="__codelineno-6-62"></a><span class="w">   </span><span class="c1">// Box2 的体积</span>
<a id="__codelineno-6-63" name="__codelineno-6-63"></a><span class="w">   </span><span class="n">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box2</span><span class="p">.</span><span class="n">getVolume</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-6-64" name="__codelineno-6-64"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Volume of Box2 : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-65" name="__codelineno-6-65"></a>
<a id="__codelineno-6-66" name="__codelineno-6-66"></a><span class="w">   </span><span class="c1">// 把两个对象相加，得到 Box3</span>
<a id="__codelineno-6-67" name="__codelineno-6-67"></a><span class="w">   </span><span class="n">Box3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Box2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-68" name="__codelineno-6-68"></a>
<a id="__codelineno-6-69" name="__codelineno-6-69"></a><span class="w">   </span><span class="c1">// Box3 的体积</span>
<a id="__codelineno-6-70" name="__codelineno-6-70"></a><span class="w">   </span><span class="n">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box3</span><span class="p">.</span><span class="n">getVolume</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-6-71" name="__codelineno-6-71"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Volume of Box3 : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-72" name="__codelineno-6-72"></a>
<a id="__codelineno-6-73" name="__codelineno-6-73"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-74" name="__codelineno-6-74"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<h2 id="c_4">c++多态<a class="headerlink" href="#c_4" title="Permanent link">&para;</a></h2>
<p><strong>多态</strong>按字面的意思就是多种形态。当类之间存在层次结构，并且类之间是通过继承关联时，就会用到多态。</p>
<p>C++ 多态意味着调用成员函数时，会根据调用函数的对象的类型来执行不同的函数。</p>
<p>下面的实例中，基类 Shape 被派生为两个类，如下所示：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span>
<span class="normal"><a href="#__codelineno-7-29">29</a></span>
<span class="normal"><a href="#__codelineno-7-30">30</a></span>
<span class="normal"><a href="#__codelineno-7-31">31</a></span>
<span class="normal"><a href="#__codelineno-7-32">32</a></span>
<span class="normal"><a href="#__codelineno-7-33">33</a></span>
<span class="normal"><a href="#__codelineno-7-34">34</a></span>
<span class="normal"><a href="#__codelineno-7-35">35</a></span>
<span class="normal"><a href="#__codelineno-7-36">36</a></span>
<span class="normal"><a href="#__codelineno-7-37">37</a></span>
<span class="normal"><a href="#__codelineno-7-38">38</a></span>
<span class="normal"><a href="#__codelineno-7-39">39</a></span>
<span class="normal"><a href="#__codelineno-7-40">40</a></span>
<span class="normal"><a href="#__codelineno-7-41">41</a></span>
<span class="normal"><a href="#__codelineno-7-42">42</a></span>
<span class="normal"><a href="#__codelineno-7-43">43</a></span>
<span class="normal"><a href="#__codelineno-7-44">44</a></span>
<span class="normal"><a href="#__codelineno-7-45">45</a></span>
<span class="normal"><a href="#__codelineno-7-46">46</a></span>
<span class="normal"><a href="#__codelineno-7-47">47</a></span>
<span class="normal"><a href="#__codelineno-7-48">48</a></span>
<span class="normal"><a href="#__codelineno-7-49">49</a></span>
<span class="normal"><a href="#__codelineno-7-50">50</a></span>
<span class="normal"><a href="#__codelineno-7-51">51</a></span>
<span class="normal"><a href="#__codelineno-7-52">52</a></span>
<span class="normal"><a href="#__codelineno-7-53">53</a></span>
<span class="normal"><a href="#__codelineno-7-54">54</a></span>
<span class="normal"><a href="#__codelineno-7-55">55</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="c1"> </span><span class="cp"></span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="k">class</span><span class="w"> </span><span class="nc">Shape</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">   </span><span class="k">protected</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">      </span><span class="n">Shape</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">         </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">         </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">area</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">         </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Parent class area :&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Shape</span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="w">      </span><span class="n">Rectangle</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="n">Shape</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-7-22" name="__codelineno-7-22"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-7-23" name="__codelineno-7-23"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-7-24" name="__codelineno-7-24"></a><span class="w">         </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Rectangle class area :&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-25" name="__codelineno-7-25"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-7-26" name="__codelineno-7-26"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-7-27" name="__codelineno-7-27"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-7-28" name="__codelineno-7-28"></a><span class="k">class</span><span class="w"> </span><span class="nc">Triangle</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Shape</span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-7-29" name="__codelineno-7-29"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-7-30" name="__codelineno-7-30"></a><span class="w">      </span><span class="n">Triangle</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="n">Shape</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-7-31" name="__codelineno-7-31"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-7-32" name="__codelineno-7-32"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-7-33" name="__codelineno-7-33"></a><span class="w">         </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Triangle class area :&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-34" name="__codelineno-7-34"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-7-35" name="__codelineno-7-35"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-7-36" name="__codelineno-7-36"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-7-37" name="__codelineno-7-37"></a><span class="c1">// 程序的主函数</span>
<a id="__codelineno-7-38" name="__codelineno-7-38"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-39" name="__codelineno-7-39"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-7-40" name="__codelineno-7-40"></a><span class="w">   </span><span class="n">Shape</span><span class="w"> </span><span class="o">*</span><span class="n">shape</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-41" name="__codelineno-7-41"></a><span class="w">   </span><span class="n">Rectangle</span><span class="w"> </span><span class="n">rec</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-7-42" name="__codelineno-7-42"></a><span class="w">   </span><span class="n">Triangle</span><span class="w">  </span><span class="n">tri</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-7-43" name="__codelineno-7-43"></a>
<a id="__codelineno-7-44" name="__codelineno-7-44"></a><span class="w">   </span><span class="c1">// 存储矩形的地址</span>
<a id="__codelineno-7-45" name="__codelineno-7-45"></a><span class="w">   </span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rec</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-46" name="__codelineno-7-46"></a><span class="w">   </span><span class="c1">// 调用矩形的求面积函数 area</span>
<a id="__codelineno-7-47" name="__codelineno-7-47"></a><span class="w">   </span><span class="n">shape</span><span class="o">-&gt;</span><span class="n">area</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-7-48" name="__codelineno-7-48"></a>
<a id="__codelineno-7-49" name="__codelineno-7-49"></a><span class="w">   </span><span class="c1">// 存储三角形的地址</span>
<a id="__codelineno-7-50" name="__codelineno-7-50"></a><span class="w">   </span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tri</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-51" name="__codelineno-7-51"></a><span class="w">   </span><span class="c1">// 调用三角形的求面积函数 area</span>
<a id="__codelineno-7-52" name="__codelineno-7-52"></a><span class="w">   </span><span class="n">shape</span><span class="o">-&gt;</span><span class="n">area</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-7-53" name="__codelineno-7-53"></a>
<a id="__codelineno-7-54" name="__codelineno-7-54"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-55" name="__codelineno-7-55"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>Parent class area :
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>Parent class area :
</code></pre></div>
</td></tr></table>
<p>导致错误输出的原因是，调用函数 area() 被编译器设置为基类中的版本，这就是所谓的<strong>静态多态</strong>，或<strong>静态链接</strong> - 函数调用在程序执行前就准备好了。有时候这也被称为<strong>早绑定</strong>，因为 area() 函数在程序编译期间就已经设置好了。</p>
<p>但现在，让我们对程序稍作修改，在 Shape 类中，area() 的声明前放置关键字 <strong>virtual</strong>，如下所示：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Shape</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">   </span><span class="k">protected</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">      </span><span class="n">Shape</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">         </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">         </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">area</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="w">         </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Parent class area :&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="p">};</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>修改后，当编译和执行前面的实例代码时，它会产生以下结果：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a>Rectangle class area :
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>Triangle class area :
</code></pre></div>
</td></tr></table>
<p>此时，编译器看的是指针的内容，而不是它的类型。因此，由于 tri 和 rec 类的对象的地址存储在 *shape 中，所以会调用各自的 area() 函数。</p>
<p>正如您所看到的，每个子类都有一个函数 area() 的独立实现。这就是<strong>多态</strong>的一般使用方式。有了多态，您可以有多个不同的类，都带有同一个名称但具有不同实现的函数，函数的参数甚至可以是相同的。</p>
<h3 id="_5">虚函数<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p><strong>虚函数</strong> 是在基类中使用关键字 <strong>virtual</strong> 声明的函数。在派生类中重新定义基类中定义的虚函数时，会告诉编译器不要静态链接到该函数。</p>
<p>我们想要的是在程序中任意点可以根据所调用的对象类型来选择调用的函数，这种操作被称为<strong>动态链接</strong>，或<strong>后期绑定</strong>。</p>
<h3 id="_6">纯虚函数<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>您可能想要在基类中定义虚函数，以便在派生类中重新定义该函数更好地适用于对象，但是您在基类中又不能对虚函数给出有意义的实现，这个时候就会用到纯虚函数。</p>
<p>我们可以把基类中的虚函数 area() 改写如下：</p>
<p>class Shape {   protected:      int width, height;   public:      Shape( int a=0, int b=0)      {         width = a;         height = b;      }      // pure virtual function      virtual int area() = 0; };</p>
<p>= 0 告诉编译器，函数没有主体，上面的虚函数是<strong>纯虚函数</strong></p>
<h2 id="c_5">C++ 接口（抽象类）<a class="headerlink" href="#c_5" title="Permanent link">&para;</a></h2>
<p>接口描述了类的行为和功能，而不需要完成类的特定实现。</p>
<p>C++ 接口是使用<strong>抽象类</strong>来实现的，抽象类与数据抽象互不混淆，数据抽象是一个把实现细节与相关的数据分离开的概念。</p>
<p>如果类中至少有一个函数被声明为纯虚函数，则这个类就是抽象类。纯虚函数是通过在声明中使用 "= 0" 来指定的，如下所示：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Box</span><span class="w"></span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">   </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">      </span><span class="c1">// 纯虚函数</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">      </span><span class="k">virtual</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">getVolume</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">   </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w">      </span><span class="c1">// 长度</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">breadth</span><span class="p">;</span><span class="w">     </span><span class="c1">// 宽度</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w">      </span><span class="c1">// 高度</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="p">};</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>设计<strong>抽象类</strong>（通常称为 ABC）的目的，是为了给其他类提供一个可以继承的适当的基类。抽象类不能被用于实例化对象，它只能作为<strong>接口</strong>使用。如果试图实例化一个抽象类的对象，会导致编译错误。</p>
<p>因此，如果一个 ABC 的子类需要被实例化，则必须实现每个纯虚函数，这也意味着 C++ 支持使用 ABC 声明接口。如果没有在派生类中重写纯虚函数，就尝试实例化该类的对象，会导致编译错误。</p>
<p>可用于实例化对象的类被称为<strong>具体类</strong>。</p>
<h3 id="_7">抽象类的实例<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>请看下面的实例，基类 Shape 提供了一个接口 <strong>getArea()</strong>，在两个派生类 Rectangle 和 Triangle 中分别实现了 <strong>getArea()</strong>：</p>
<h3 id="_8">实例<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span>
<span class="normal"><a href="#__codelineno-12-17">17</a></span>
<span class="normal"><a href="#__codelineno-12-18">18</a></span>
<span class="normal"><a href="#__codelineno-12-19">19</a></span>
<span class="normal"><a href="#__codelineno-12-20">20</a></span>
<span class="normal"><a href="#__codelineno-12-21">21</a></span>
<span class="normal"><a href="#__codelineno-12-22">22</a></span>
<span class="normal"><a href="#__codelineno-12-23">23</a></span>
<span class="normal"><a href="#__codelineno-12-24">24</a></span>
<span class="normal"><a href="#__codelineno-12-25">25</a></span>
<span class="normal"><a href="#__codelineno-12-26">26</a></span>
<span class="normal"><a href="#__codelineno-12-27">27</a></span>
<span class="normal"><a href="#__codelineno-12-28">28</a></span>
<span class="normal"><a href="#__codelineno-12-29">29</a></span>
<span class="normal"><a href="#__codelineno-12-30">30</a></span>
<span class="normal"><a href="#__codelineno-12-31">31</a></span>
<span class="normal"><a href="#__codelineno-12-32">32</a></span>
<span class="normal"><a href="#__codelineno-12-33">33</a></span>
<span class="normal"><a href="#__codelineno-12-34">34</a></span>
<span class="normal"><a href="#__codelineno-12-35">35</a></span>
<span class="normal"><a href="#__codelineno-12-36">36</a></span>
<span class="normal"><a href="#__codelineno-12-37">37</a></span>
<span class="normal"><a href="#__codelineno-12-38">38</a></span>
<span class="normal"><a href="#__codelineno-12-39">39</a></span>
<span class="normal"><a href="#__codelineno-12-40">40</a></span>
<span class="normal"><a href="#__codelineno-12-41">41</a></span>
<span class="normal"><a href="#__codelineno-12-42">42</a></span>
<span class="normal"><a href="#__codelineno-12-43">43</a></span>
<span class="normal"><a href="#__codelineno-12-44">44</a></span>
<span class="normal"><a href="#__codelineno-12-45">45</a></span>
<span class="normal"><a href="#__codelineno-12-46">46</a></span>
<span class="normal"><a href="#__codelineno-12-47">47</a></span>
<span class="normal"><a href="#__codelineno-12-48">48</a></span>
<span class="normal"><a href="#__codelineno-12-49">49</a></span>
<span class="normal"><a href="#__codelineno-12-50">50</a></span>
<span class="normal"><a href="#__codelineno-12-51">51</a></span>
<span class="normal"><a href="#__codelineno-12-52">52</a></span>
<span class="normal"><a href="#__codelineno-12-53">53</a></span>
<span class="normal"><a href="#__codelineno-12-54">54</a></span>
<span class="normal"><a href="#__codelineno-12-55">55</a></span>
<span class="normal"><a href="#__codelineno-12-56">56</a></span>
<span class="normal"><a href="#__codelineno-12-57">57</a></span>
<span class="normal"><a href="#__codelineno-12-58">58</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="c1">// 基类</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">Shape</span><span class="w"> </span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">   </span><span class="c1">// 提供接口框架的纯虚函数</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">   </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">getArea</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="w">   </span><span class="kt">void</span><span class="w"> </span><span class="nf">setWidth</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">   </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">      </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="w">   </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="w">   </span><span class="kt">void</span><span class="w"> </span><span class="nf">setHeight</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="w">   </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-17" name="__codelineno-12-17"></a><span class="w">      </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-18" name="__codelineno-12-18"></a><span class="w">   </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-12-19" name="__codelineno-12-19"></a><span class="k">protected</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-12-20" name="__codelineno-12-20"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-21" name="__codelineno-12-21"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-22" name="__codelineno-12-22"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-12-23" name="__codelineno-12-23"></a>
<a id="__codelineno-12-24" name="__codelineno-12-24"></a><span class="c1">// 派生类</span>
<a id="__codelineno-12-25" name="__codelineno-12-25"></a><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Shape</span><span class="w"></span>
<a id="__codelineno-12-26" name="__codelineno-12-26"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-27" name="__codelineno-12-27"></a><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-12-28" name="__codelineno-12-28"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">getArea</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-12-29" name="__codelineno-12-29"></a><span class="w">   </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-12-30" name="__codelineno-12-30"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-12-31" name="__codelineno-12-31"></a><span class="w">   </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-12-32" name="__codelineno-12-32"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-12-33" name="__codelineno-12-33"></a><span class="k">class</span><span class="w"> </span><span class="nc">Triangle</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Shape</span><span class="w"></span>
<a id="__codelineno-12-34" name="__codelineno-12-34"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-35" name="__codelineno-12-35"></a><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-12-36" name="__codelineno-12-36"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">getArea</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-12-37" name="__codelineno-12-37"></a><span class="w">   </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-12-38" name="__codelineno-12-38"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-12-39" name="__codelineno-12-39"></a><span class="w">   </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-12-40" name="__codelineno-12-40"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-12-41" name="__codelineno-12-41"></a>
<a id="__codelineno-12-42" name="__codelineno-12-42"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-12-43" name="__codelineno-12-43"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-12-44" name="__codelineno-12-44"></a><span class="w">   </span><span class="n">Rectangle</span><span class="w"> </span><span class="n">Rect</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-45" name="__codelineno-12-45"></a><span class="w">   </span><span class="n">Triangle</span><span class="w">  </span><span class="n">Tri</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-46" name="__codelineno-12-46"></a>
<a id="__codelineno-12-47" name="__codelineno-12-47"></a><span class="w">   </span><span class="n">Rect</span><span class="p">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-48" name="__codelineno-12-48"></a><span class="w">   </span><span class="n">Rect</span><span class="p">.</span><span class="n">setHeight</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-49" name="__codelineno-12-49"></a><span class="w">   </span><span class="c1">// 输出对象的面积</span>
<a id="__codelineno-12-50" name="__codelineno-12-50"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Total Rectangle area: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Rect</span><span class="p">.</span><span class="n">getArea</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-51" name="__codelineno-12-51"></a>
<a id="__codelineno-12-52" name="__codelineno-12-52"></a><span class="w">   </span><span class="n">Tri</span><span class="p">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-53" name="__codelineno-12-53"></a><span class="w">   </span><span class="n">Tri</span><span class="p">.</span><span class="n">setHeight</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-12-54" name="__codelineno-12-54"></a><span class="w">   </span><span class="c1">// 输出对象的面积</span>
<a id="__codelineno-12-55" name="__codelineno-12-55"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Total Triangle area: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Tri</span><span class="p">.</span><span class="n">getArea</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-12-56" name="__codelineno-12-56"></a>
<a id="__codelineno-12-57" name="__codelineno-12-57"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-12-58" name="__codelineno-12-58"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a>Total Rectangle area: 35
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>Total Triangle area: 17
</code></pre></div>
</td></tr></table>
<p>从上面的实例中，我们可以看到一个抽象类是如何定义一个接口 getArea()，两个派生类是如何通过不同的计算面积的算法来实现这个相同的函数。</p>
<h3 id="_9">设计策略<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>面向对象的系统可能会使用一个抽象基类为所有的外部应用程序提供一个适当的、通用的、标准化的接口。然后，派生类通过继承抽象基类，就把所有类似的操作都继承下来。</p>
<p>外部应用程序提供的功能（即公有函数）在抽象基类中是以纯虚函数的形式存在的。这些纯虚函数在相应的派生类中被实现。</p>
<p>这个架构也使得新的应用程序可以很容易地被添加到系统中，即使是在系统被定义之后依然可以如此。</p>
<h2 id="c_6">c++命名空间<a class="headerlink" href="#c_6" title="Permanent link">&para;</a></h2>
<h2 id="c_7">c++模板<a class="headerlink" href="#c_7" title="Permanent link">&para;</a></h2>
<h3 id="_10">函数模板<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>我们可以把函数模板当做一种特殊的函数，里面的<strong>参数类型可以是任意类型</strong>，这样的话我们就可以减少重复定义，从而让这个函数模板自动适应不同的参数类型，也就是说函数可以适应多种类型的参数，例如<code>double</code>、<code>int</code>或者类什么的。</p>
<p>C++为了实现上面的功能，引入了<code>template</code>这个概念。我们可以把template当成是一种特殊的类型参数，并且也可以在函数里当做参数传递，心里面把它当做<code>int</code>什么的就行了。</p>
<p><strong>使用类型参数声明函数模板的格式如下所示</strong>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">identifier</span><span class="o">&gt;</span><span class="w"> </span><span class="n">function_declaration</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">identifier</span><span class="o">&gt;</span><span class="w"> </span><span class="n">function_declaration</span><span class="p">;</span><span class="w">    </span><span class="c1">// 这里使用了typename 当做声明类型参数</span>
</code></pre></div>
</td></tr></table>
<p>上面声明函数模板的格式只有一处不同，那就是<code>class</code>和<code>typename</code>，在这里其实使用哪一种都没有区别，看自己喜欢就行，C++对此也没有做严格的区分；</p>
<p>为了更好的说明如何使用函数模板，便在举一个很形象的例子，那就是一个用来返回较大值的函数，具体写法如下所示:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="nt">template</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">typename</span><span class="w"> </span><span class="nt">T</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="nt">T</span><span class="w"> </span><span class="nt">GetMax</span><span class="o">(</span><span class="nt">T</span><span class="w"> </span><span class="nt">a</span><span class="o">,</span><span class="w"> </span><span class="nt">T</span><span class="w"> </span><span class="nt">b</span><span class="o">)</span><span class="w"></span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">    </span><span class="nt">return</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">b</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nt">b</span><span class="o">;</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>在上面的短短几行代码中我们就创建了一个函数模板用来获取两个数之间较大的那个数，不难看出T在这里并没有指明具体的类型，在这我们仍然可以在心里把它当做普通变量处理，返回值也是T。</p>
<p>为了使用我们定义的函数模板，可以参照统一的函数模板调用格式：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="w"> </span><span class="n">function_name</span><span class="o">&lt;</span><span class="kr">type</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">parameters</span><span class="p">);</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">type就是具体的类型</span><span class="err">，例如</span><span class="n">int</span><span class="err">、</span><span class="n">double这些</span><span class="err">，</span><span class="n">parameters就是函数里的参数</span><span class="err">，也是具体类型</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>所以，如果我们想要实现获取两个整形值里较大的那个，我们可以传入int这个类型之后调用<code>GetMax</code>函数，具体示例如下:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="nb">int</span> <span class="nb">max</span> <span class="o">=</span> <span class="n">GetMax</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>    <span class="o">//</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span>
</code></pre></div>
</td></tr></table>
<h3 id="_11">类模板<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>由于template声明的类型可以是<strong>任意类型</strong>，也就是使用的时候传入具体的类型就行。所以可以参考上面函数模板的例子构造类模板也是一样的，在使用这个类的时候传入具体的变量类型就行了。例如下面的类模板定义：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-18-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-18-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-18-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-18-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-18-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-18-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-18-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-18-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-18-10">10</a></span>
<span class="normal"><a href="#__codelineno-18-11">11</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="n">template</span> <span class="o">&lt;</span><span class="n">typename</span> <span class="bp">T</span><span class="o">&gt;</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="n">class</span> <span class="n">MyPair</span><span class="p">{</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a>    <span class="bp">T</span> <span class="n">value</span><span class="p">[</span><span class="m">2</span><span class="p">];</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a>    <span class="n">public</span><span class="o">:</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a>        <span class="nf">MyPair</span><span class="p">(</span><span class="bp">T</span> <span class="n">first</span><span class="p">,</span> <span class="bp">T</span> <span class="n">second</span><span class="p">)</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a>        <span class="p">{</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a>            <span class="n">value</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">first</span><span class="p">;</span>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a>            <span class="n">value</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">second</span><span class="p">;</span>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a>        <span class="p">}</span>
<a id="__codelineno-18-11" name="__codelineno-18-11"></a>  <span class="p">};</span>
</code></pre></div>
</td></tr></table>
<p>类模板的示例代码中定义一个<code>MyPair</code>类，<strong>用来存储任意类型的两个元素</strong>，例如<code>double</code>，<code>char</code>，<code>int</code>等，下面我就给出两个示例，分别存储<code>double</code>和<code>int</code>类型的变量</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="nt">MyPair</span><span class="o">&lt;</span><span class="nt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">myInt</span><span class="o">(</span><span class="nt">2</span><span class="o">,</span><span class="w"> </span><span class="nt">3</span><span class="o">);</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">存储两个整型值</span><span class="w"></span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="nt">MyPair</span><span class="o">&lt;</span><span class="nt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">myDouble</span><span class="o">(</span><span class="nt">2</span><span class="nc">.3</span><span class="o">,</span><span class="w"> </span><span class="nt">3</span><span class="nc">.43</span><span class="o">);</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">存储两个double值</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>模板类的成员函数也可以在<strong>类外定义</strong>，写法和函数模板的写法是一样的，具体示例如下所示：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span>
<span class="normal"><a href="#__codelineno-20-11">11</a></span>
<span class="normal"><a href="#__codelineno-20-12">12</a></span>
<span class="normal"><a href="#__codelineno-20-13">13</a></span>
<span class="normal"><a href="#__codelineno-20-14">14</a></span>
<span class="normal"><a href="#__codelineno-20-15">15</a></span>
<span class="normal"><a href="#__codelineno-20-16">16</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="n">template</span> <span class="o">&lt;</span><span class="n">class</span> <span class="bp">T</span><span class="o">&gt;</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="n">class</span> <span class="n">MyPair</span> <span class="p">{</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a>    <span class="bp">T</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a>  <span class="n">public</span><span class="o">:</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>    <span class="nf">mypair </span><span class="p">(</span><span class="bp">T</span> <span class="n">first</span><span class="p">,</span> <span class="bp">T</span> <span class="n">second</span><span class="p">)</span>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a>      <span class="p">{</span><span class="n">a</span><span class="o">=</span><span class="n">first</span><span class="p">;</span> <span class="n">b</span><span class="o">=</span><span class="n">second</span><span class="p">;}</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a>    <span class="bp">T</span> <span class="nf">Getmax </span><span class="p">();</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="p">};</span>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="n">template</span> <span class="o">&lt;</span><span class="n">typename</span> <span class="bp">T</span><span class="o">&gt;</span>
<a id="__codelineno-20-11" name="__codelineno-20-11"></a><span class="bp">T</span> <span class="n">MyPair</span><span class="o">&lt;</span><span class="bp">T</span><span class="o">&gt;::</span><span class="nf">Getmax </span><span class="p">()</span>    <span class="o">//</span> 在类外定义函数， 注意前面的写法和函数模板写法一致
<a id="__codelineno-20-12" name="__codelineno-20-12"></a><span class="p">{</span>
<a id="__codelineno-20-13" name="__codelineno-20-13"></a>  <span class="bp">T</span> <span class="n">retval</span><span class="p">;</span>
<a id="__codelineno-20-14" name="__codelineno-20-14"></a>  <span class="n">retval</span> <span class="o">=</span> <span class="n">a</span><span class="o">&gt;</span><span class="n">b</span><span class="o">?</span> <span class="n">a</span> <span class="o">:</span> <span class="n">b</span><span class="p">;</span>
<a id="__codelineno-20-15" name="__codelineno-20-15"></a>  <span class="n">return</span> <span class="n">retval</span><span class="p">;</span>
<a id="__codelineno-20-16" name="__codelineno-20-16"></a><span class="p">}</span>
</code></pre></div>
</td></tr></table>
<h3 id="_12">模板特化<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>如果我们想要为类模板定义一个不同的实现接口，并且要求需要将特定参数作为参数传递时，那么我们就可以将该<strong>模板特化</strong>；</p>
<p>为了更好地说明模板特化，还是举个简单的例子吧。假设我们定义一个类<code>mycontainer</code>，这个类可以存储一个任意类型的变量，并且这个类还有一个函数叫做<code>increasement</code>用来将存储的类型加一。并且，如果这个类存储的是一个char类型的时候，我们会发现这个类对于实现将其中的成员变量转换为大写的功能将更加方便，不妨将这个函数定义为<code>ToUpper</code>，因此，我们可以为char类型的类模板实现模板特化，具体的示例代码如下：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span>
<span class="normal"><a href="#__codelineno-21-12">12</a></span>
<span class="normal"><a href="#__codelineno-21-13">13</a></span>
<span class="normal"><a href="#__codelineno-21-14">14</a></span>
<span class="normal"><a href="#__codelineno-21-15">15</a></span>
<span class="normal"><a href="#__codelineno-21-16">16</a></span>
<span class="normal"><a href="#__codelineno-21-17">17</a></span>
<span class="normal"><a href="#__codelineno-21-18">18</a></span>
<span class="normal"><a href="#__codelineno-21-19">19</a></span>
<span class="normal"><a href="#__codelineno-21-20">20</a></span>
<span class="normal"><a href="#__codelineno-21-21">21</a></span>
<span class="normal"><a href="#__codelineno-21-22">22</a></span>
<span class="normal"><a href="#__codelineno-21-23">23</a></span>
<span class="normal"><a href="#__codelineno-21-24">24</a></span>
<span class="normal"><a href="#__codelineno-21-25">25</a></span>
<span class="normal"><a href="#__codelineno-21-26">26</a></span>
<span class="normal"><a href="#__codelineno-21-27">27</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="c1">// 模板特化</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="c1">// 声明类模板:</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="k">class</span><span class="w"> </span><span class="nc">mycontainer</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">element</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="w">  </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="w">    </span><span class="n">mycontainer</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">arg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">element</span><span class="o">=</span><span class="n">arg</span><span class="p">;}</span><span class="w"></span>
<a id="__codelineno-21-11" name="__codelineno-21-11"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="o">++</span><span class="n">element</span><span class="p">;}</span><span class="w"></span>
<a id="__codelineno-21-12" name="__codelineno-21-12"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-21-13" name="__codelineno-21-13"></a>
<a id="__codelineno-21-14" name="__codelineno-21-14"></a><span class="c1">// char类型的模板特化:</span>
<a id="__codelineno-21-15" name="__codelineno-21-15"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"></span>
<a id="__codelineno-21-16" name="__codelineno-21-16"></a><span class="k">class</span><span class="w"> </span><span class="nc">mycontainer</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-21-17" name="__codelineno-21-17"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">element</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-21-18" name="__codelineno-21-18"></a><span class="w">  </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-21-19" name="__codelineno-21-19"></a><span class="w">    </span><span class="n">mycontainer</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">arg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">element</span><span class="o">=</span><span class="n">arg</span><span class="p">;}</span><span class="w"></span>
<a id="__codelineno-21-20" name="__codelineno-21-20"></a>
<a id="__codelineno-21-21" name="__codelineno-21-21"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">ToUpper</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-21-22" name="__codelineno-21-22"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-21-23" name="__codelineno-21-23"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">element</span><span class="o">&gt;=</span><span class="sc">&#39;a&#39;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="n">element</span><span class="o">&lt;=</span><span class="sc">&#39;z&#39;</span><span class="p">))</span><span class="w"></span>
<a id="__codelineno-21-24" name="__codelineno-21-24"></a><span class="w">      </span><span class="n">element</span><span class="o">+=</span><span class="sc">&#39;A&#39;</span><span class="o">-</span><span class="sc">&#39;a&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-21-25" name="__codelineno-21-25"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">element</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-21-26" name="__codelineno-21-26"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-21-27" name="__codelineno-21-27"></a><span class="p">};</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>对于上面的模板特化，我们需要几点，注意类模板和模板特化的<strong>区别和联系</strong>：</p>
<ul>
<li>在类模板的前面加上<code>template &lt;&gt;</code>，这表明是模板特化，也就是是说模板特化都需要加上这句话；</li>
<li>还有一点就是类模板后面使用了<code>&lt;char&gt;</code>参数，这个特定参数表示我们将模板类特化程<code>&lt;char&gt;</code>类型；</li>
</ul>
<h3 id="template">template的其他用法<a class="headerlink" href="#template" title="Permanent link">&para;</a></h3>
<p>除了以<code>template</code>或者<code>class</code>关键字开头声明的表示类型的模板参数之外，template也可以具有其他类型的参数，例如<code>int</code>、<code>double</code>这些参数，就类似于一个函数中拥有多个参数，每个参数类型还不一样。为了更好的说明<code>template</code>的其他用法，不妨参考下面的示例代码，</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-22-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-22-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-22-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-22-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-22-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-22-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-22-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-22-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-22-10">10</a></span>
<span class="normal"><a href="#__codelineno-22-11">11</a></span>
<span class="normal"><a href="#__codelineno-22-12">12</a></span>
<span class="normal"><a href="#__codelineno-22-13">13</a></span>
<span class="normal"><a href="#__codelineno-22-14">14</a></span>
<span class="normal"><a href="#__codelineno-22-15">15</a></span>
<span class="normal"><a href="#__codelineno-22-16">16</a></span>
<span class="normal"><a href="#__codelineno-22-17">17</a></span>
<span class="normal"><a href="#__codelineno-22-18">18</a></span>
<span class="normal"><a href="#__codelineno-22-19">19</a></span>
<span class="normal"><a href="#__codelineno-22-20">20</a></span>
<span class="normal"><a href="#__codelineno-22-21">21</a></span>
<span class="normal"><a href="#__codelineno-22-22">22</a></span>
<span class="normal"><a href="#__codelineno-22-23">23</a></span>
<span class="normal"><a href="#__codelineno-22-24">24</a></span>
<span class="normal"><a href="#__codelineno-22-25">25</a></span>
<span class="normal"><a href="#__codelineno-22-26">26</a></span>
<span class="normal"><a href="#__codelineno-22-27">27</a></span>
<span class="normal"><a href="#__codelineno-22-28">28</a></span>
<span class="normal"><a href="#__codelineno-22-29">29</a></span>
<span class="normal"><a href="#__codelineno-22-30">30</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w">    </span><span class="c1">// 这里除了含有class声明的类型之外，还拥有一个int类型</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="k">class</span><span class="w"> </span><span class="nc">mysequence</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">memblock</span><span class="w"> </span><span class="p">[</span><span class="n">N</span><span class="p">];</span><span class="w"></span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">  </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setmember</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">value</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">getmember</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="kt">void</span><span class="w"> </span><span class="n">mysequence</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">N</span><span class="o">&gt;::</span><span class="n">setmember</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-22-14" name="__codelineno-22-14"></a><span class="w">  </span><span class="n">memblock</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">=</span><span class="n">value</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-15" name="__codelineno-22-15"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-22-16" name="__codelineno-22-16"></a>
<a id="__codelineno-22-17" name="__codelineno-22-17"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-22-18" name="__codelineno-22-18"></a><span class="n">T</span><span class="w"> </span><span class="n">mysequence</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">N</span><span class="o">&gt;::</span><span class="n">getmember</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-22-19" name="__codelineno-22-19"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">memblock</span><span class="p">[</span><span class="n">x</span><span class="p">];</span><span class="w"></span>
<a id="__codelineno-22-20" name="__codelineno-22-20"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-22-21" name="__codelineno-22-21"></a>
<a id="__codelineno-22-22" name="__codelineno-22-22"></a><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(){</span><span class="w"></span>
<a id="__codelineno-22-23" name="__codelineno-22-23"></a><span class="w">  </span><span class="n">mysequence</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="mi">5</span><span class="o">&gt;</span><span class="w"> </span><span class="n">myints</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-24" name="__codelineno-22-24"></a><span class="w">  </span><span class="n">mysequence</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="mi">5</span><span class="o">&gt;</span><span class="w"> </span><span class="n">myfloats</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-25" name="__codelineno-22-25"></a><span class="w">  </span><span class="n">myints</span><span class="p">.</span><span class="n">setmember</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-22-26" name="__codelineno-22-26"></a><span class="w">  </span><span class="n">myfloats</span><span class="p">.</span><span class="n">setmember</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mf">3.1416</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-22-27" name="__codelineno-22-27"></a><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">myints</span><span class="p">.</span><span class="n">getmember</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-28" name="__codelineno-22-28"></a><span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">myfloats</span><span class="p">.</span><span class="n">getmember</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-29" name="__codelineno-22-29"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-30" name="__codelineno-22-30"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<h2 id="_13">左值引用和右值引用<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<h3 id="_14">左值 [<em>可以取地址的对象就是左值</em>]<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>左值是一个表示数据的表达式，比如：<em>变量名、解引用的指针变量</em>。一般地，我们<strong>可以获取它的地址和对它赋值</strong>，但被 const 修饰后的左值，不能给它赋值，但是仍然可以取它的地址。<em>总体而言，可以取地址的对象就是左值。</em></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span>
<span class="normal"><a href="#__codelineno-23-5">5</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a>// 以下的a、p、*p、b都是左值
<a id="__codelineno-23-2" name="__codelineno-23-2"></a>int a = 3;
<a id="__codelineno-23-3" name="__codelineno-23-3"></a>int* p = &amp;a;
<a id="__codelineno-23-4" name="__codelineno-23-4"></a>*p;
<a id="__codelineno-23-5" name="__codelineno-23-5"></a>const int b = 2;
</code></pre></div>
</td></tr></table>
<h3 id="_15">右值[<em>不可以取地址的对象就是右值</em>]<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p>右值也是一个表示数据的表达式，比如：<em>字面常量、表达式返回值，传值返回函数的返回值（是传值返回，而非传引用返回）</em>，右值不能出现在赋值符号的左边且不能取地址。<em>总体而言，不可以取地址的对象就是右值。</em></p>
<p>传统的 C++ 语法中就存在引用语法，而 C++11标准中新增了右值引用的语法特性，因此为了区分两者，将C++11标准出现之前的引用称为左值引用。</p>
<p><em>无论左值引用还是右值引用，都是给对象取别名。</em></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-24-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-24-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-24-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-24-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-24-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-24-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-24-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-24-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-24-10">10</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a>double x = 1.3, y = 3.8;
<a id="__codelineno-24-2" name="__codelineno-24-2"></a>// 以下几个都是常见的右值
<a id="__codelineno-24-3" name="__codelineno-24-3"></a>10;                 // 字面常量
<a id="__codelineno-24-4" name="__codelineno-24-4"></a>x + y;             // 表达式返回值
<a id="__codelineno-24-5" name="__codelineno-24-5"></a>fmin(x, y);        // 传值返回函数的返回值
<a id="__codelineno-24-6" name="__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a>以下写法均不能通过编译：
<a id="__codelineno-24-8" name="__codelineno-24-8"></a>
<a id="__codelineno-24-9" name="__codelineno-24-9"></a>10 = 4;、x + y = 4;、fmin(x, y) = 4;，VS2015 编译报错：error C2106: “=”: 左操作数必须为左值。原因：右值不能出现在赋值符号的左边。
<a id="__codelineno-24-10" name="__codelineno-24-10"></a>&amp;10;、&amp;(x + y);、&amp;fmin(x, y);，VS2015 编译报错：error C2102: “&amp;” 要求左值。原因：右值不能取地址。
</code></pre></div>
</td></tr></table>
<h3 id="_16">左值引用【<em>避免对象拷贝】</em><a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>左值引用就是对左值的引用，给左值取别名。<strong>主要作用是避免对象拷贝。</strong></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a>// 以下几个是对上面左值的左值引用
<a id="__codelineno-25-2" name="__codelineno-25-2"></a>int&amp; ra = a;
<a id="__codelineno-25-3" name="__codelineno-25-3"></a>int*&amp; rp = p;
<a id="__codelineno-25-4" name="__codelineno-25-4"></a>int&amp; r = *p;
<a id="__codelineno-25-5" name="__codelineno-25-5"></a>const int&amp; rb = b;
</code></pre></div>
</td></tr></table>
<h3 id="_17">右值引用【<em>延长对象生命周期</em>】<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>右值引用就是对右值的引用，给右值取别名。<strong>主要作用是把延长对象的生命周期，一般是延长到作用域的scope之外</strong>。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a>右值引用的表示是在具体的变量类型名称后加两个 &amp;，比如：int&amp;&amp; rr = 4;。
<a id="__codelineno-26-2" name="__codelineno-26-2"></a>// 以下几个是对上面右值的右值引用
<a id="__codelineno-26-3" name="__codelineno-26-3"></a>int&amp;&amp; rr1 = 10;
<a id="__codelineno-26-4" name="__codelineno-26-4"></a>double&amp;&amp; rr2 = x + y;
<a id="__codelineno-26-5" name="__codelineno-26-5"></a>double&amp;&amp; rr3 = fmin(x, y);
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a>注意：
<a id="__codelineno-27-2" name="__codelineno-27-2"></a>右值引用 引用 右值，会使右值被存储到特定的位置。
<a id="__codelineno-27-3" name="__codelineno-27-3"></a>也就是说，右值引用变量其实是左值，可以对它取地址和赋值（const右值引用变量可以取地址但不可以赋值，因为 const 在起作用）。
<a id="__codelineno-27-4" name="__codelineno-27-4"></a>当然，取地址是指取变量空间的地址（右值是不能取地址的）。
<a id="__codelineno-27-5" name="__codelineno-27-5"></a>比如：1.  double&amp;&amp; rr2 = x + y;　　&amp;rr2;　　rr2 = 9.4;　　右值引用 rr2 引用右值 x + y 后，该表达式的返回值被存储到特定的位置，不能取表达式返回值 x + y 的地址，但是可以取 rr2 的地址，也可以修改 rr2 。 const double&amp;&amp; rr4 = x + y; &amp;rr4; 可以对 rr4 取地址，但不能修改 rr4，即写成rr4 = 5.3;会编译报错。2. const double&amp;&amp; rr4 = x + y;　　&amp;rr4;　　可以对 rr4 取地址，但不能修改 rr4，即写成rr4 = 5.3;会编译报错
</code></pre></div>
</td></tr></table>
<p>现在我们知道左值引用可以引用左值，右值引用可以引用右值。</p>
<h3 id="_18">左值引用和指针的区别<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p>用起来区别不大。</p>
<p>最后，总结一下指针和引用的相同点和不同点：</p>
<p>​   ★相同点：</p>
<ul>
<li>
<p>都是地址的概念；</p>
</li>
<li>
<p>指针指向一块内存，它的内容是所指内存的地址；而引用则是某块内存的别名。</p>
</li>
</ul>
<p>★不同点：</p>
<ul>
<li>
<p>指针是一个实体，而引用仅是个别名；</p>
</li>
<li>
<p><strong>引用只能在定义时被初始化一次，指向某个变量后就之后不可变；指针可变，可以从指向这个变量到指向另一个变量；</strong></p>
</li>
<li>
<p><strong>引用不能为空，指针可以为空；</strong></p>
</li>
<li>
<p><strong>“sizeof 引用”得到的是所指向的变量(对象)的大小，而“sizeof 指针”得到的是指针本身的大小；</strong></p>
</li>
<li>
<p>指针和引用的自增(++)运算意义不一样；</p>
</li>
<li>
<p>引用是类型安全的，而指针不是 (引用比指针多了类型检查）</p>
</li>
</ul>
<h3 id="const">const &amp; （常引用）参数<a class="headerlink" href="#const" title="Permanent link">&para;</a></h3>
<p>&amp;是为了引用传递，防止值传递的复制数据</p>
<p>const是为了保护数据不被改动</p>
<p>const&amp;防止传值时拷贝构造函数的调用开销</p>
<p>结论</p>
<p>如果不需改变形参的值又不用作参数传递（实参赋值给形参），用常引用作形参适应面最广：实参可以是变量也可以是常量。</p>
<p>如果需要改变形参的值，用引用作形参最合适：实参必须是变量不允许是常量。</p>
<p>如果不需改变形参的值又可以用作参数传递（实参赋值给形参），用普通变量作形参：多了传递参数的开销。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-28-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-28-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-28-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-28-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-28-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-28-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-28-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-28-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-28-10">10</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">func_2</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">par</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="w">    </span><span class="c1">//par = 3;        //这个会报错</span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;The parameter in the function is: &quot;</span><span class="o">&lt;&lt;</span><span class="n">par</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-28-6" name="__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7"></a><span class="c1">/////////////////另一个文件的某个函数里。。。///////////////////</span>
<a id="__codelineno-28-8" name="__codelineno-28-8"></a><span class="n">func_2</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">        </span><span class="c1">//参数可以接受右值</span>
<a id="__codelineno-28-9" name="__codelineno-28-9"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-28-10" name="__codelineno-28-10"></a><span class="n">func_2</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w">            </span><span class="c1">//当然也可以接受左值</span>
</code></pre></div>
</td></tr></table>
<p>常引用也可以把 const 写在类型后面，比如这样</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-29-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-29-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-29-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-29-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-29-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-29-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-29-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-29-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-29-10">10</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">func_2</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;</span><span class="w"> </span><span class="n">par</span><span class="p">)</span><span class="w">  </span><span class="c1">//const 写在后面也是可以的</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="w">    </span><span class="c1">//par = 3;        //这个会报错</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;The parameter in the function is: &quot;</span><span class="o">&lt;&lt;</span><span class="n">par</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="c1">/////////////////另一个文件的某个函数里。。。///////////////////</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="n">func_2</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">        </span><span class="c1">//参数可以接受右值</span>
<a id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-29-10" name="__codelineno-29-10"></a><span class="n">func_2</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w">            </span><span class="c1">//当然也可以接受左值</span>
</code></pre></div>
</td></tr></table>
<h3 id="c_8">C++ 把引用作为返回值<a class="headerlink" href="#c_8" title="Permanent link">&para;</a></h3>
<p>通过使用引用来替代指针，会使 C++ 程序更容易阅读和维护。C++ 函数可以返回一个引用，方式与返回一个指针类似。</p>
<p>当函数返回一个引用时，则返回一个指向返回值的隐式指针。<strong>这样，函数就可以放在赋值语句的左边，看起来比较像赋值，其实是函数调用</strong>例如，请看下面这个简单的程序：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span>
<span class="normal"><a href="#__codelineno-30-15">15</a></span>
<span class="normal"><a href="#__codelineno-30-16">16</a></span>
<span class="normal"><a href="#__codelineno-30-17">17</a></span>
<span class="normal"><a href="#__codelineno-30-18">18</a></span>
<span class="normal"><a href="#__codelineno-30-19">19</a></span>
<span class="normal"><a href="#__codelineno-30-20">20</a></span>
<span class="normal"><a href="#__codelineno-30-21">21</a></span>
<span class="normal"><a href="#__codelineno-30-22">22</a></span>
<span class="normal"><a href="#__codelineno-30-23">23</a></span>
<span class="normal"><a href="#__codelineno-30-24">24</a></span>
<span class="normal"><a href="#__codelineno-30-25">25</a></span>
<span class="normal"><a href="#__codelineno-30-26">26</a></span>
<span class="normal"><a href="#__codelineno-30-27">27</a></span>
<span class="normal"><a href="#__codelineno-30-28">28</a></span>
<span class="normal"><a href="#__codelineno-30-29">29</a></span>
<span class="normal"><a href="#__codelineno-30-30">30</a></span>
<span class="normal"><a href="#__codelineno-30-31">31</a></span>
<span class="normal"><a href="#__codelineno-30-32">32</a></span>
<span class="normal"><a href="#__codelineno-30-33">33</a></span>
<span class="normal"><a href="#__codelineno-30-34">34</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="kt">double</span><span class="w"> </span><span class="n">vals</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">10.1</span><span class="p">,</span><span class="w"> </span><span class="mf">12.6</span><span class="p">,</span><span class="w"> </span><span class="mf">33.1</span><span class="p">,</span><span class="w"> </span><span class="mf">24.1</span><span class="p">,</span><span class="w"> </span><span class="mf">50.0</span><span class="p">};</span><span class="w"></span>
<a id="__codelineno-30-6" name="__codelineno-30-6"></a>
<a id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="kt">double</span><span class="o">&amp;</span><span class="w"> </span><span class="nf">setValues</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<a id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="w">   </span><span class="kt">double</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w">    </span>
<a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="n">ref</span><span class="p">;</span><span class="w">   </span><span class="c1">// 返回第 i 个元素的引用，ref 是一个引用变量，ref 引用 vals[i]</span>
<a id="__codelineno-30-10" name="__codelineno-30-10"></a>
<a id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-30-12" name="__codelineno-30-12"></a>
<a id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="c1">// 要调用上面定义函数的主函数</span>
<a id="__codelineno-30-14" name="__codelineno-30-14"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-30-15" name="__codelineno-30-15"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-30-16" name="__codelineno-30-16"></a>
<a id="__codelineno-30-17" name="__codelineno-30-17"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;改变前的值&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-30-18" name="__codelineno-30-18"></a><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-30-19" name="__codelineno-30-19"></a><span class="w">   </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-30-20" name="__codelineno-30-20"></a><span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;vals[&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;] = &quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-30-21" name="__codelineno-30-21"></a><span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-30-22" name="__codelineno-30-22"></a><span class="w">   </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-30-23" name="__codelineno-30-23"></a>
<a id="__codelineno-30-24" name="__codelineno-30-24"></a><span class="w">   </span><span class="n">setValues</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">20.23</span><span class="p">;</span><span class="w"> </span><span class="c1">// 改变第 2 个元素,看起来比较像赋值，其实是函数调用</span>
<a id="__codelineno-30-25" name="__codelineno-30-25"></a><span class="w">   </span><span class="n">setValues</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">70.8</span><span class="p">;</span><span class="w">  </span><span class="c1">// 改变第 4 个元素 </span>
<a id="__codelineno-30-26" name="__codelineno-30-26"></a>
<a id="__codelineno-30-27" name="__codelineno-30-27"></a><span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;改变后的值&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-30-28" name="__codelineno-30-28"></a><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-30-29" name="__codelineno-30-29"></a><span class="w">   </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-30-30" name="__codelineno-30-30"></a><span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;vals[&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;] = &quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-30-31" name="__codelineno-30-31"></a><span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-30-32" name="__codelineno-30-32"></a><span class="w">   </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-30-33" name="__codelineno-30-33"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-30-34" name="__codelineno-30-34"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>当上面的代码被编译和执行时，它会产生下列结果：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-31-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-31-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-31-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-31-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-31-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-31-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-31-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-31-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-31-10">10</a></span>
<span class="normal"><a href="#__codelineno-31-11">11</a></span>
<span class="normal"><a href="#__codelineno-31-12">12</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a>改变前的值
<a id="__codelineno-31-2" name="__codelineno-31-2"></a>vals[0] = 10.1
<a id="__codelineno-31-3" name="__codelineno-31-3"></a>vals[1] = 12.6
<a id="__codelineno-31-4" name="__codelineno-31-4"></a>vals[2] = 33.1
<a id="__codelineno-31-5" name="__codelineno-31-5"></a>vals[3] = 24.1
<a id="__codelineno-31-6" name="__codelineno-31-6"></a>vals[4] = 50
<a id="__codelineno-31-7" name="__codelineno-31-7"></a>改变后的值
<a id="__codelineno-31-8" name="__codelineno-31-8"></a>vals[0] = 10.1
<a id="__codelineno-31-9" name="__codelineno-31-9"></a>vals[1] = 20.23
<a id="__codelineno-31-10" name="__codelineno-31-10"></a>vals[2] = 33.1
<a id="__codelineno-31-11" name="__codelineno-31-11"></a>vals[3] = 70.8
<a id="__codelineno-31-12" name="__codelineno-31-12"></a>vals[4] = 50
</code></pre></div>
</td></tr></table>
<p><strong>注意：</strong>当返回一个引用时，要注意被引用的对象不能超出作用域。所以返回一个对局部变量的引用是不合法的，但是，可以返回一个对静态变量的引用。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span>
<span class="normal"><a href="#__codelineno-32-5">5</a></span>
<span class="normal"><a href="#__codelineno-32-6">6</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="nf">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">q</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="w">   </span><span class="c1">//! return q; // 在编译时发生错误</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">   </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">     </span><span class="c1">// 安全，x 在函数作用域外依然是有效的</span>
<a id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<h2 id="_19">宏<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h2>
<h3 id="define">#define的概念和分类<a class="headerlink" href="#define" title="Permanent link">&para;</a></h3>
<p><code>#define</code>命令是C语言中的一个宏定义命令，它用来将一个标识符定义为一个字符串，该标识符被称为宏名，被定义的字符串称为替换文本。宏的定义是跟随 <code>#define</code> 在一同一行内的，但可通过 反斜杠 <code>\</code> 实现换行从而定义出多行的宏。
该命令有两种格式：一种是简单的宏定义，另一种是带参数的宏定义。
<strong>(1)简单的宏定义：</strong></p>
<ol>
<li>#define &lt;宏名&gt;　　&lt;字符串&gt;</li>
<li>例： #define PI 3.1415926</li>
</ol>
<p><strong>(2) 带参数的宏定义</strong></p>
<ol>
<li>#define &lt;宏名&gt; (&lt;参数表&gt;) &lt;宏体&gt;</li>
</ol>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span>
<span class="normal"><a href="#__codelineno-33-12">12</a></span>
<span class="normal"><a href="#__codelineno-33-13">13</a></span>
<span class="normal"><a href="#__codelineno-33-14">14</a></span>
<span class="normal"><a href="#__codelineno-33-15">15</a></span>
<span class="normal"><a href="#__codelineno-33-16">16</a></span>
<span class="normal"><a href="#__codelineno-33-17">17</a></span>
<span class="normal"><a href="#__codelineno-33-18">18</a></span>
<span class="normal"><a href="#__codelineno-33-19">19</a></span>
<span class="normal"><a href="#__codelineno-33-20">20</a></span>
<span class="normal"><a href="#__codelineno-33-21">21</a></span>
<span class="normal"><a href="#__codelineno-33-22">22</a></span>
<span class="normal"><a href="#__codelineno-33-23">23</a></span>
<span class="normal"><a href="#__codelineno-33-24">24</a></span>
<span class="normal"><a href="#__codelineno-33-25">25</a></span>
<span class="normal"><a href="#__codelineno-33-26">26</a></span>
<span class="normal"><a href="#__codelineno-33-27">27</a></span>
<span class="normal"><a href="#__codelineno-33-28">28</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="c1">// 类Widget拥有非常多的属性，但每一个属性的相应函数实现是类似的</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">Widget</span><span class="w"></span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="c1">// Width属性</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">getWidth</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"></span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_Width</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setWidth</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Width</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-12" name="__codelineno-33-12"></a><span class="w">        </span><span class="c1">// 当设置新值时，打印一条日志，方便调试</span>
<a id="__codelineno-33-13" name="__codelineno-33-13"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;setWidth %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Width</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-33-14" name="__codelineno-33-14"></a><span class="w">        </span><span class="n">_Width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Width</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-15" name="__codelineno-33-15"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-33-16" name="__codelineno-33-16"></a><span class="w">    </span><span class="c1">// Height属性</span>
<a id="__codelineno-33-17" name="__codelineno-33-17"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">getHeight</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"></span>
<a id="__codelineno-33-18" name="__codelineno-33-18"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-19" name="__codelineno-33-19"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_Height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-20" name="__codelineno-33-20"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-33-21" name="__codelineno-33-21"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setHeight</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">Height</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-33-22" name="__codelineno-33-22"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-33-23" name="__codelineno-33-23"></a><span class="w">        </span><span class="c1">// 当设置新值时，打印一条日志，方便调试</span>
<a id="__codelineno-33-24" name="__codelineno-33-24"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;setHeight %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Height</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-33-25" name="__codelineno-33-25"></a><span class="w">        </span><span class="n">_Height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Height</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-26" name="__codelineno-33-26"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-33-27" name="__codelineno-33-27"></a><span class="w">    </span><span class="c1">// 之后还有其他的属性定义......</span>
<a id="__codelineno-33-28" name="__codelineno-33-28"></a><span class="p">};</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>如果有一个类，它携带有很多的属性，而每一个属性都必须进行实现<code>set</code>和<code>get</code>函数如上所示，那么就可以使用宏来减少代码的输入。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-34-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-34-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-34-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-34-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-34-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-34-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-34-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-34-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-34-10">10</a></span>
<span class="normal"><a href="#__codelineno-34-11">11</a></span>
<span class="normal"><a href="#__codelineno-34-12">12</a></span>
<span class="normal"><a href="#__codelineno-34-13">13</a></span>
<span class="normal"><a href="#__codelineno-34-14">14</a></span>
<span class="normal"><a href="#__codelineno-34-15">15</a></span>
<span class="normal"><a href="#__codelineno-34-16">16</a></span>
<span class="normal"><a href="#__codelineno-34-17">17</a></span>
<span class="normal"><a href="#__codelineno-34-18">18</a></span>
<span class="normal"><a href="#__codelineno-34-19">19</a></span>
<span class="normal"><a href="#__codelineno-34-20">20</a></span>
<span class="normal"><a href="#__codelineno-34-21">21</a></span>
<span class="normal"><a href="#__codelineno-34-22">22</a></span>
<span class="normal"><a href="#__codelineno-34-23">23</a></span>
<span class="normal"><a href="#__codelineno-34-24">24</a></span>
<span class="normal"><a href="#__codelineno-34-25">25</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="c1">// 定义一个PROPERTY宏来生成相应的函数实现</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="cp">#define PROPERTY(Name)\</span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="cp">int get##Name() const\</span>
<a id="__codelineno-34-4" name="__codelineno-34-4"></a><span class="cp">{\</span>
<a id="__codelineno-34-5" name="__codelineno-34-5"></a><span class="cp">    return _##Name;\</span>
<a id="__codelineno-34-6" name="__codelineno-34-6"></a><span class="cp">}\</span>
<a id="__codelineno-34-7" name="__codelineno-34-7"></a><span class="cp">void set##Name()\</span>
<a id="__codelineno-34-8" name="__codelineno-34-8"></a><span class="cp">{\</span>
<a id="__codelineno-34-9" name="__codelineno-34-9"></a><span class="cp">    printf(&quot;set&quot;#Name&quot; %d\n&quot;, Name);\</span>
<a id="__codelineno-34-10" name="__codelineno-34-10"></a><span class="cp">    _##Name = Name;\</span>
<a id="__codelineno-34-11" name="__codelineno-34-11"></a><span class="cp">}</span>
<a id="__codelineno-34-12" name="__codelineno-34-12"></a>
<a id="__codelineno-34-13" name="__codelineno-34-13"></a><span class="c1">// 接下来就可以重新定义Widget类了</span>
<a id="__codelineno-34-14" name="__codelineno-34-14"></a><span class="k">class</span><span class="w"> </span><span class="nc">Widget</span><span class="w"></span>
<a id="__codelineno-34-15" name="__codelineno-34-15"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-34-16" name="__codelineno-34-16"></a><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-34-17" name="__codelineno-34-17"></a><span class="w">    </span><span class="c1">// Width属性</span>
<a id="__codelineno-34-18" name="__codelineno-34-18"></a><span class="w">    </span><span class="n">PROPERTY</span><span class="p">(</span><span class="n">Width</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-34-19" name="__codelineno-34-19"></a><span class="w">    </span><span class="c1">// Height属性</span>
<a id="__codelineno-34-20" name="__codelineno-34-20"></a><span class="w">    </span><span class="n">PROPERTY</span><span class="p">(</span><span class="n">Height</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-34-21" name="__codelineno-34-21"></a><span class="w">    </span><span class="c1">// 其他的属性</span>
<a id="__codelineno-34-22" name="__codelineno-34-22"></a><span class="w">    </span><span class="n">PROPERTY</span><span class="p">(</span><span class="n">Color</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-34-23" name="__codelineno-34-23"></a><span class="w">    </span><span class="n">PROPERTY</span><span class="p">(</span><span class="n">BackgroundColor</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-34-24" name="__codelineno-34-24"></a><span class="w">    </span><span class="c1">// ......</span>
<a id="__codelineno-34-25" name="__codelineno-34-25"></a><span class="p">};</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>一个标识符被宏定义后，该标识符便是一个宏名。这时，在程序中出现的是宏名，在该程序被编译前，先将宏名用被定义的字符串替换，这称为宏替换，替换后才进行编译，宏替换是简单的替换。</p>
<h3 id="_20">宏替换发生的时机<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>为了能够真正理解#define的作用，让我们来了解一下对C语言源程序的处理过程。当我们在一个集成的开发环境如Turbo C中将编写好的源程序进行编译时，实际经过了预处理、编译、汇编和连接几个过程。其中预处理器产生编译器的输入，它实现以下的功能：
（1）文件包含
  可以把源程序中的#include 扩展为文件正文，即把包含的.h文件找到并展开到#include 所在处。
（2）条件编译
  预处理器根据#if和#ifdef等编译命令及其后的条件，将源程序中的某部分包含进来或排除在外，通常把排除在外的语句转换成空行。
（3）宏展开
  预处理器将源程序文件中出现的对宏的引用展开成相应的宏定义，即本文所说的#define的功能，由预处理器来完成。</p>
<h2 id="_21">命名空间<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h2>
<p>1.C++中的std::是什么？</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span>
<span class="normal"><a href="#__codelineno-35-3">3</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="n">std</span><span class="o">::</span><span class="w"> </span><span class="n">是个名称空间标示符</span><span class="err">，</span><span class="n">C</span><span class="o">++</span><span class="n">标准库中的函数或者对象都是在命名空间std中定义的</span><span class="err">，</span><span class="n">所以我们要使用标准函数库中的函数或对象都要使用std来限定</span><span class="err">。</span><span class="w"></span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="n">标准库在名字空间中被指定为std</span><span class="err">，</span><span class="n">所以在使用标准库中的函数或者对象的时候要加上std</span><span class="o">::</span><span class="err">，</span><span class="n">这样编译器就会明白我们调用的函数或者对象是名字空间std中的</span><span class="err">。</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>2.那么什么是C++标准库呢？</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span>
<span class="normal"><a href="#__codelineno-36-4">4</a></span>
<span class="normal"><a href="#__codelineno-36-5">5</a></span>
<span class="normal"><a href="#__codelineno-36-6">6</a></span>
<span class="normal"><a href="#__codelineno-36-7">7</a></span>
<span class="normal"><a href="#__codelineno-36-8">8</a></span>
<span class="normal"><a href="#__codelineno-36-9">9</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a>C++标准库，C++ Standard Library，是类库和函数的集合，其使用核心语言写成，由c++标准委员会制定，并不断维护更新。
<a id="__codelineno-36-2" name="__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a>C++强大的功能来源于其丰富的类库及库函数资源。在C++开发中，要尽可能地利用标准库完成，这样可以降低成本，提高编程效率，保证程序质量，又能保持编程风格一致性。
<a id="__codelineno-36-4" name="__codelineno-36-4"></a>
<a id="__codelineno-36-5" name="__codelineno-36-5"></a>C++标准库又分为标准函数库和面向对象类库。
<a id="__codelineno-36-6" name="__codelineno-36-6"></a>
<a id="__codelineno-36-7" name="__codelineno-36-7"></a>标准函数库包括：输入/输出 I/O、字符串和字符处理、数学、时间、日期和本地化、动态分配、其他、宽字符函数。
<a id="__codelineno-36-8" name="__codelineno-36-8"></a>
<a id="__codelineno-36-9" name="__codelineno-36-9"></a>面向对象类库包括：标准的 C++ I/O 类、String 类、数值类、STL 容器类、STL 算法、STL 函数对象、STL 迭代器、STL 分配器、本地化库、异常处理类、杂项支持库。
</code></pre></div>
</td></tr></table>
<p>3.那么在什么时候要用到std::，什么时候不需要用呢？</p>
<p><strong>一般来说，要调用C++标准库中的静态方法或者静态变量时，要写上std::。</strong></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-37-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-37-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-37-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-37-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-37-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-37-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-37-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-37-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-37-10">10</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="n">如果使用非标准库文件iostream</span><span class="p">.</span><span class="n">h</span><span class="err">，</span><span class="n">不用写</span><span class="err">。</span><span class="w"></span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="n">如</span><span class="err">：#</span><span class="n">include</span><span class="o">&lt;</span><span class="n">iostream</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="cp">#include</span><span class="cpf">&lt;iostream.h&gt;</span><span class="cp"></span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="w">    </span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;hello world&quot;</span><span class="p">;</span><span class="w">   </span><span class="c1">//而不是std::cout&lt;&lt;&quot;hello world&quot;;</span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="w">    </span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span><span class="w">   </span><span class="c1">//而不是std::cout&lt;&lt;std::endl;</span>
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-37-10" name="__codelineno-37-10"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<h2 id="_22">：：作用域符号双冒号<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h2>
<h3 id="_23">访问命名空间内部的东西<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>具有名空间的东西很多，除了纯粹的namespace还有class，struct和union等。</p>
<h3 id="_24">全局作用域符号<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-38-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-38-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-38-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-38-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-38-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-38-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-38-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-38-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-38-10">10</a></span>
<span class="normal"><a href="#__codelineno-38-11">11</a></span>
<span class="normal"><a href="#__codelineno-38-12">12</a></span>
<span class="normal"><a href="#__codelineno-38-13">13</a></span>
<span class="normal"><a href="#__codelineno-38-14">14</a></span>
<span class="normal"><a href="#__codelineno-38-15">15</a></span>
<span class="normal"><a href="#__codelineno-38-16">16</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">//全局变量 0</span>
<a id="__codelineno-38-4" name="__codelineno-38-4"></a>
<a id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-38-7" name="__codelineno-38-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="c1">//局部变量10</span>
<a id="__codelineno-38-8" name="__codelineno-38-8"></a>
<a id="__codelineno-38-9" name="__codelineno-38-9"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;count =%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">);</span><span class="c1">//局部变量屏蔽了全局变量 所以输出结果是10</span>
<a id="__codelineno-38-10" name="__codelineno-38-10"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-38-11" name="__codelineno-38-11"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-12" name="__codelineno-38-12"></a>
<a id="__codelineno-38-13" name="__codelineno-38-13"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;count =%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">count</span><span class="p">);</span><span class="w"> </span><span class="c1">//作用域符号指出引用全局变量0</span>
<a id="__codelineno-38-14" name="__codelineno-38-14"></a><span class="w">        </span><span class="c1">//::sort</span>
<a id="__codelineno-38-15" name="__codelineno-38-15"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-38-16" name="__codelineno-38-16"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>作为全局作用域符号，双冒号要放在开头。这和linux下的文件路径类似，“/”放在开头表示绝对路径，放在中间表示子目录。</p>
<h3 id="_25">双冒号也常常用于在类变量内部作为当前类实例的元素进行表示<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<p>例：声明了一个类A，类A里声明了一个成员函数void f()，但没有在类的声明里给出f的定义，那么 <strong>在类外定义</strong>时， 
就要写成 void A::f() ，表示这个f()函数是类A的成员函数。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-39-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-39-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-39-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-39-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-39-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-39-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-39-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-39-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-39-10">10</a></span>
<span class="normal"><a href="#__codelineno-39-11">11</a></span>
<span class="normal"><a href="#__codelineno-39-12">12</a></span>
<span class="normal"><a href="#__codelineno-39-13">13</a></span>
<span class="normal"><a href="#__codelineno-39-14">14</a></span>
<span class="normal"><a href="#__codelineno-39-15">15</a></span>
<span class="normal"><a href="#__codelineno-39-16">16</a></span>
<span class="normal"><a href="#__codelineno-39-17">17</a></span>
<span class="normal"><a href="#__codelineno-39-18">18</a></span>
<span class="normal"><a href="#__codelineno-39-19">19</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">CA</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="k">public</span><span class="o">:</span><span class="w"></span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ca_var</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a>
<a id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="c1">//作用域</span>
<a id="__codelineno-39-9" name="__codelineno-39-9"></a><span class="kt">int</span><span class="w"> </span><span class="nf">CA::add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-39-10" name="__codelineno-39-10"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-39-11" name="__codelineno-39-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-39-12" name="__codelineno-39-12"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-39-13" name="__codelineno-39-13"></a>
<a id="__codelineno-39-14" name="__codelineno-39-14"></a><span class="c1">//另外，双冒号在类变量内部作为当前类实例的元素进行表示</span>
<a id="__codelineno-39-15" name="__codelineno-39-15"></a><span class="kt">int</span><span class="w"> </span><span class="nf">CA::add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-39-16" name="__codelineno-39-16"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-39-17" name="__codelineno-39-17"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">::</span><span class="n">ca_var</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-39-18" name="__codelineno-39-18"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-39-19" name="__codelineno-39-19"></a><span class="c1">//表示当前类实例中的变量ca_var</span>
</code></pre></div>
</td></tr></table>
<h2 id="using">using作用<a class="headerlink" href="#using" title="Permanent link">&para;</a></h2>
<h3 id="typedef">类型重定义，取代 typedef<a class="headerlink" href="#typedef" title="Permanent link">&para;</a></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="k">using</span><span class="w"> </span><span class="n">alias</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">typename</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>这是 C++11 中的新用法，比 typedef 更能表达别名的定义。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span>
<span class="normal"><a href="#__codelineno-41-2">2</a></span>
<span class="normal"><a href="#__codelineno-41-3">3</a></span>
<span class="normal"><a href="#__codelineno-41-4">4</a></span>
<span class="normal"><a href="#__codelineno-41-5">5</a></span>
<span class="normal"><a href="#__codelineno-41-6">6</a></span>
<span class="normal"><a href="#__codelineno-41-7">7</a></span>
<span class="normal"><a href="#__codelineno-41-8">8</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="k">using</span><span class="w"> </span><span class="n">fun</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="c1">//typedef void (*fun)(int, int); //与上一句等价</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="k">using</span><span class="w"> </span><span class="n">int16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">short</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="c1">//typedef short int16; //与上一句等价</span>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span><span class="w"></span>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="k">sizeof</span><span class="p">(</span><span class="n">int16</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>在 C++98/03 中 ，typedef 重定义有一些限制，比如，模板。
我们想实现这样一个模板：将一个 int 映射到任意类型，类似于我们想表达这种效果：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span>
<span class="normal"><a href="#__codelineno-42-4">4</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="k">typedef</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map_int_t</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="k">typedef</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map_str_t</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="k">typedef</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map_b_t</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="c1">//... Others</span>
</code></pre></div>
</td></tr></table>
<p>我们在 C++98/03 中必须这样写：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-43-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-43-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-43-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-43-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-43-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-43-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-43-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-43-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-43-10">10</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">Val</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="k">struct</span><span class="w"> </span><span class="nc">int_map</span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">Val</span><span class="o">&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="p">};</span><span class="w"></span>
<a id="__codelineno-43-5" name="__codelineno-43-5"></a>
<a id="__codelineno-43-6" name="__codelineno-43-6"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span><span class="w"></span>
<a id="__codelineno-43-7" name="__codelineno-43-7"></a><span class="w">    </span><span class="n">int_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">type</span><span class="w"> </span><span class="n">imap</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-43-8" name="__codelineno-43-8"></a>
<a id="__codelineno-43-9" name="__codelineno-43-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-43-10" name="__codelineno-43-10"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p>在C++11 中，我们可以使用 using 重定义模板</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span>
<span class="normal"><a href="#__codelineno-44-2">2</a></span>
<span class="normal"><a href="#__codelineno-44-3">3</a></span>
<span class="normal"><a href="#__codelineno-44-4">4</a></span>
<span class="normal"><a href="#__codelineno-44-5">5</a></span>
<span class="normal"><a href="#__codelineno-44-6">6</a></span>
<span class="normal"><a href="#__codelineno-44-7">7</a></span>
<span class="normal"><a href="#__codelineno-44-8">8</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">Val</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="k">using</span><span class="w"> </span><span class="n">int_map_t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">Val</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a>
<a id="__codelineno-44-4" name="__codelineno-44-4"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span><span class="w"></span>
<a id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="w">    </span><span class="n">int_map_t</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">imap</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-44-6" name="__codelineno-44-6"></a>
<a id="__codelineno-44-7" name="__codelineno-44-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-44-8" name="__codelineno-44-8"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1">1</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a>
</code></pre></div>
</td></tr></table>
<h1 id="_26">流<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h1>
<h2 id="public-member-functions-inherited-from-ios">Public member functions inherited from ios<a class="headerlink" href="#public-member-functions-inherited-from-ios" title="Permanent link">&para;</a></h2>
<ul>
<li>18 ios::good</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span>
<span class="normal"><a href="#__codelineno-46-2">2</a></span>
<span class="normal"><a href="#__codelineno-46-3">3</a></span>
<span class="normal"><a href="#__codelineno-46-4">4</a></span>
<span class="normal"><a href="#__codelineno-46-5">5</a></span>
<span class="normal"><a href="#__codelineno-46-6">6</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">good</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">eof</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">fail</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">bad</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="n">检测流的状态是否正常</span><span class="err">。</span><span class="n">当错误的状态</span><span class="o">*</span><span class="n">flags</span><span class="w"> </span><span class="p">(</span><span class="n">eofbit</span><span class="p">,</span><span class="w"> </span><span class="n">failbit</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">badbit</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="n">都没被设置的时候返回true</span><span class="w"></span>
<a id="__codelineno-46-6" name="__codelineno-46-6"></a><span class="n">特定的错误状态可以用下面的函数</span><span class="err">（</span><span class="n">eof</span><span class="p">,</span><span class="w"> </span><span class="n">fail</span><span class="p">,</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">bad</span><span class="err">）</span><span class="n">来检测</span><span class="err">。</span><span class="w"></span>
</code></pre></div>
</td></tr></table>
<p><img alt="image-20240408151250990" src="https://gitee.com/zhou-lu-wu-bei/picture-hub/raw/master/image-20240408151250990.png" /></p>
<p>引用自：https://blog.csdn.net/sinat_36219858/article/details/80369255</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="页脚">
      
        
        <a href="../../.." class="md-footer__link md-footer__link--prev" aria-label="上一页: 主页" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              主页
            </div>
          </div>
        </a>
      
      
        
        <a href="../../inferrence/2024-2-28%E6%89%93%E5%8D%B0%E7%9F%A9%E9%98%B5%E4%B9%98%E7%9A%84%E4%B8%8B%E6%A0%87/" class="md-footer__link md-footer__link--next" aria-label="下一页: 打印矩阵乘的下标" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              打印矩阵乘的下标
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.748e2769.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>